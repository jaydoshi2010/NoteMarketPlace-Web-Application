@model IEnumerable<Notemarketplace_front.Models.datafile>

@{
    ViewBag.Title = "My_sold_notes";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

<!-- Dashboard Section -->
<section id="dashboard">

    <div class="container">
        <div class="sold-notes">
            <div class="row">
                <div class="col-md-7 col-sm-7 col-xs-12">
                    <p>My Sold Notes</p>

                </div>
                <div class="col-md-5 col-sm-5 col-xs-12 text-right">
                    <div class="dashboard-search">
                        <div class="col-md-8 col-sm-8 col-xs-8">
                            <div class="form-input">
                                <input class="form-control" type="text">
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-4" id="search">
                            <a class="btn-general btn-work smooth-scroll" title="search" role="button">Search</a>

                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="soldnotes-table table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">SR NO.</th>
                                    <th scope="col">NOTE TITLE</th>
                                    <th scope="col">CATAGORY</th>

                                    <th scope="col">BUYER</th>
                                    <th scope="col">SELL TYPE</th>
                                    <th scope="col">PRICE</th>
                                    <th scope="col">DOWNLOAD DATE/TIME</th>
                                    <th scope="col">ACTION</th>

                                </tr>
                            </thead>
                            <tbody>

                                @*@{ int i = ViewBag.Count - 1; }*@
                                @{ int i = 0; }
                                @foreach (var item in Model)
                                {
                                    string a = "";

                                    i = i + 1;
                            <tr>
                                <td>
                                    @i
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.download.NoteTitle)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.download.NoteCategory)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.User.EmailID)
                                </td>

                                @{ bool isPaid = item.download.IsPaid;
                                    if (isPaid)
                                    {
                                        <td>Paid</td>
                                    }
                                    else
                                    {
                                        <td>Free</td> 
                                    } 
                                 }
                                <td>
                                    @Html.DisplayFor(modelItem => item.download.PurchasedPrice)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.download.CreatedDate)
                                </td>

                                <td>

                                    <a class="link-margin" href="#"><img src="~/Content/img/eye.png"></a>
                                </td>
                                <td class="dropdown">

                                    <div id="dots" class="mynav-dropdown ">
                                        <img class="dropdown-toggle " data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" src="~/Content/img/dots.png" />
                                        <div class="dropdown-menu buyer-request-menu mynav-dropdown-content dropdown-menu-right ">
                                            <button class="text-left dropdown-item nav-dropdown-item" onclick="location.href='/Client/rejected/@item.download.NoteID'">Download Note</button>
                                        </div>
                                    </div>
                                </td>

                            </tr>
                            }

                                <!-- </thead> -->
                            </tbody>
                        </table>
                    </div>
                    <div class="text-center" aria-label="Page navigation example">
                        <ul class="pagination">
                            <li class="disabled"><a href="#">«</a></li>
                            <li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>
                            <li><a href="#">2</a></li>
                            <li><a href="#">3</a></li>
                            <li><a href="#">4</a></li>
                            <li><a href="#">5</a></li>
                            <li><a href="#">»</a></li>
                        </ul>
                        @*Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount

                        @Html.PagedListPager(Model, page => Url.Action("My_sold_notes", new { page }))*@
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Dashboard Section Ends -->
